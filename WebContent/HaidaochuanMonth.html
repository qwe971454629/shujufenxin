
<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>

<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:400px"></div>
    
     <!-- ECharts单文件引入 -->
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
    
    <!-- 模块加载器配置echarts和所需图表的路径 -->
    <script type="text/javascript">
        // 路径配置
           
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
        require(
            [
                'echarts',
                'echarts/chart/line',   // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
                'echarts/chart/bar'
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main')); 
                
                var names =[];//列名               
                var datas =[];//显示的数据值
                
                //定义一个数组
                ////从controller中得到数据 ajax
                
                //$.get $.post $.ajax...
                
                $.get("hdcm.do",function(data,status){
    		
    		data =JSON.parse(data);
    		$.each(data,function(index,p){
    			names.push(p.month);
    			datas.push(p.number);
    			
    		});
    		
    		var option = {
    		        title : {
    		            text: '各品牌销售量',
    		            subtext: '京东网提供'
    		        },
    		        tooltip : {
    		            trigger: 'axis'
    		        },
    		        legend: {
    		            data:['销售量']
    		        },
    		        toolbox: {
    		            show : true,
    		            feature : {
    		                mark : {show: true},
    		                dataView : {show: true, readOnly: false},
    		                magicType : {show: true, type: ['line', 'bar']},
    		                restore : {show: true},
    		                saveAsImage : {show: true}
    		            }
    		        },
    		        calculable : true,
    		        xAxis : [
    		            {
    		                type : 'category',
    		                boundaryGap : false,
    		                data : names//['周一','周二','周三','周四','周五','周六','周日']
    		            }
    		        ],
    		        yAxis : [
    		            {
    		                type : 'value',
    		                axisLabel : {
    		                    formatter: '{value}'
    		                }
    		            }
    		        ],
    		        series : [
    		            {
    		                name:'销售量',
    		                type:'line',
    		                data:datas//[11, 11, 15, 13, 12, 13, 10],

    		            },
    		            
    		        ]
    		        
    		    };
                 
                         // 为echarts对象加载数据 
                         myChart.setOption(option); 
                	
                	
                	
                });
   
            }
        );
        
    </script>
    
   
    
</body>
